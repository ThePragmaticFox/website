import{_ as o,c as n,a as s,o as d}from"./entry-f56c5214.mjs";function a(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function h(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}const l={data(){return{gl:void 0,vertexShaderCode:`
        #version 100
        uniform float u_time;
        void main() {
          float x = sin(u_time)/5.0;
          float y = cos(u_time)/5.0;
          gl_Position = vec4(x, y, 0.0, 1.0);
          gl_PointSize = 100.0;
        }
      `,vertexShader:void 0,fragmentShaderCode:`
        #version 100
        void main() {
          gl_FragColor = vec4(0.88, 0.54, 0.34, 1.0);
        }
      `,fragmentShader:void 0,program:void 0,buffer:void 0}},mounted(){console.log(this.$refs.canvas.clientWidth),this.$refs.canvas.width=98/100*a(),this.$refs.canvas.height=98/100*h(),this.gl=this.$refs.canvas.getContext("webgl")||this.$refs.canvas.getContext("experimental-webgl"),this.gl?(this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight),this.renderLoop()):alert("Failed to get WebGL context. Your browser or device may not support WebGL.")},methods:{render(){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.setupVertexShader(),this.setupFragmentShader(),this.setupProgram()},renderLoop(){this.render(),setInterval(this.renderLoop,1e3/60)},setupVertexShader(){this.vertexShader=this.gl.createShader(this.gl.VERTEX_SHADER),this.gl.shaderSource(this.vertexShader,this.vertexShaderCode),this.gl.compileShader(this.vertexShader)},setupFragmentShader(){this.fragmentShader=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.shaderSource(this.fragmentShader,this.fragmentShaderCode),this.gl.compileShader(this.fragmentShader)},setupProgram(){this.program=this.gl.createProgram();const r=Date.now()-this.start;this.gl.attachShader(this.program,this.vertexShader),this.gl.attachShader(this.program,this.fragmentShader),this.gl.linkProgram(this.program);var e=this.gl.getUniformLocation(this.program,"u_time");if(this.gl.detachShader(this.program,this.vertexShader),this.gl.detachShader(this.program,this.fragmentShader),this.gl.deleteShader(this.vertexShader),this.gl.deleteShader(this.fragmentShader),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){const t=this.gl.getProgramInfoLog(this.program);this.cleanup(),console.error("Shader program did not link successfully. Error log: "+t);return}this.initializeAttributes(),this.gl.useProgram(this.program),this.gl.uniform1f(e,r),this.gl.drawArrays(this.gl.POINTS,0,1),this.cleanup()},initializeAttributes(){this.gl.enableVertexAttribArray(0),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(0,1,this.gl.FLOAT,!1,0,0)},cleanup(){this.gl.useProgram(null),this.buffer&&this.gl.deleteBuffer(this.buffer),this.program&&this.gl.deleteProgram(this.program)}}},g=Object.assign(l,{setup(r,{expose:e}){e();const t=Date.now(),i={getWidth:a,getHeight:h,start:t};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),c={class:"section"},m={class:"hero is-fullheight"},u=s("div",{class:"hero-head"},null,-1),f={id:"canvas",ref:"canvas"};function p(r,e,t,i,S,_){return d(),n("section",c,[s("div",m,[u,s("canvas",f," Your browser does not seem to support HTML5 canvas. ",512)])])}var x=o(g,[["render",p]]);export{x as default};
